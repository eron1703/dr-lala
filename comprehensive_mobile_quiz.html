<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>GMU Medical Exam - Complete Practice</title>
    <style>
        * {
            box-sizing: border-box;
            margin: 0;
            padding: 0;
            -webkit-tap-highlight-color: transparent;
        }

        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Arial, sans-serif;
            line-height: 1.6;
            color: #333;
            background-color: #f0f2f5;
            padding: 0;
            margin: 0;
            overflow-x: hidden;
        }

        .container {
            max-width: 100%;
            min-height: 100vh;
            background-color: white;
            padding: 15px;
        }

        h1 {
            color: #075e54;
            font-size: 24px;
            margin-bottom: 10px;
            text-align: center;
        }

        .subtitle {
            text-align: center;
            color: #667781;
            font-size: 14px;
            margin-bottom: 20px;
        }

        .progress {
            background-color: #e9edef;
            border-radius: 20px;
            overflow: hidden;
            margin-bottom: 20px;
            height: 8px;
        }

        .progress-bar {
            height: 100%;
            background-color: #25d366;
            transition: width 0.3s;
        }

        .question-card {
            background-color: #ffffff;
            border: 1px solid #e9edef;
            border-radius: 12px;
            padding: 20px;
            margin-bottom: 15px;
            box-shadow: 0 1px 2px rgba(0,0,0,0.1);
        }

        .question-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 15px;
        }

        .question-number {
            font-weight: bold;
            color: #075e54;
            font-size: 16px;
        }

        .subject-tag {
            background-color: #dcf8c6;
            color: #075e54;
            padding: 4px 12px;
            border-radius: 16px;
            font-size: 12px;
            font-weight: 500;
        }

        .question-text {
            font-size: 16px;
            margin-bottom: 20px;
            line-height: 1.5;
        }

        .options {
            list-style: none;
        }

        .option {
            margin-bottom: 10px;
        }

        .option-label {
            display: block;
            padding: 15px;
            background-color: #f8f9fa;
            border: 2px solid #e9edef;
            border-radius: 8px;
            cursor: pointer;
            transition: all 0.2s;
            font-size: 15px;
            position: relative;
        }

        .option-label:active {
            transform: scale(0.98);
        }

        .option input[type="radio"] {
            position: absolute;
            opacity: 0;
        }

        .option input[type="radio"]:checked + .option-label {
            border-color: #25d366;
            background-color: #dcf8c6;
        }

        .option.correct .option-label {
            border-color: #25d366;
            background-color: #dcf8c6;
        }

        .option.incorrect .option-label {
            border-color: #f44336;
            background-color: #ffebee;
        }

        .controls {
            position: fixed;
            bottom: 0;
            left: 0;
            right: 0;
            background-color: white;
            padding: 15px;
            border-top: 1px solid #e9edef;
            display: flex;
            gap: 10px;
            z-index: 1000;
        }

        .btn {
            flex: 1;
            background-color: #25d366;
            color: white;
            border: none;
            padding: 15px;
            border-radius: 8px;
            font-size: 16px;
            font-weight: 500;
            cursor: pointer;
            transition: background-color 0.3s;
        }

        .btn:active {
            transform: scale(0.98);
        }

        .btn:disabled {
            background-color: #ccc;
            cursor: not-allowed;
        }

        .btn-secondary {
            background-color: #667781;
        }

        .score-card {
            background-color: #dcf8c6;
            border-radius: 12px;
            padding: 20px;
            text-align: center;
            margin: 20px 0 80px 0;
        }

        .score-card h2 {
            color: #075e54;
            margin-bottom: 10px;
        }

        .score-details {
            font-size: 24px;
            font-weight: bold;
            color: #075e54;
            margin: 10px 0;
        }

        .start-screen {
            text-align: center;
            padding: 20px;
        }

        .start-screen h2 {
            color: #075e54;
            margin-bottom: 20px;
        }

        .subject-selection {
            margin: 20px 0;
        }

        .subject-btn {
            display: block;
            width: 100%;
            padding: 15px;
            margin-bottom: 10px;
            background-color: #f8f9fa;
            border: 2px solid #e9edef;
            border-radius: 8px;
            font-size: 16px;
            cursor: pointer;
            transition: all 0.2s;
        }

        .subject-btn.active {
            background-color: #dcf8c6;
            border-color: #25d366;
        }

        .subject-btn.required {
            background-color: #e3f2fd;
            border-color: #2196f3;
        }

        .quiz-length {
            margin: 20px 0;
        }

        .length-btn {
            padding: 10px 20px;
            margin: 0 5px;
            background-color: #f8f9fa;
            border: 2px solid #e9edef;
            border-radius: 8px;
            cursor: pointer;
        }

        .length-btn.active {
            background-color: #25d366;
            color: white;
            border-color: #25d366;
        }

        .explanation {
            margin-top: 15px;
            padding: 12px;
            background-color: #e3f2fd;
            border-left: 4px solid #2196f3;
            border-radius: 4px;
            font-size: 14px;
            display: none;
        }

        .explanation.show {
            display: block;
        }

        .timer {
            text-align: center;
            font-size: 18px;
            font-weight: bold;
            color: #075e54;
            margin-bottom: 15px;
        }

        .container {
            padding-bottom: 80px;
        }

        @media (max-width: 360px) {
            .question-text {
                font-size: 15px;
            }
            .option-label {
                font-size: 14px;
                padding: 12px;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>GMU Medical Exam Practice</h1>
        <p class="subtitle">200 High-Difficulty Questions</p>

        <div class="start-screen" id="startScreen">
            <h2>Select Your Subjects</h2>
            <p style="margin-bottom: 20px; color: #667781;">Mathematics is required. Choose 2 sciences:</p>
            
            <div class="subject-selection">
                <button class="subject-btn required" disabled>✓ Mathematics (Required)</button>
                <button class="subject-btn" data-subject="biology" onclick="toggleSubject(this)">Biology (50 questions)</button>
                <button class="subject-btn" data-subject="chemistry" onclick="toggleSubject(this)">Chemistry (50 questions)</button>
                <button class="subject-btn" data-subject="physics" onclick="toggleSubject(this)">Physics (50 questions)</button>
            </div>

            <div class="quiz-length">
                <p style="margin-bottom: 10px; color: #667781;">Quiz length:</p>
                <button class="length-btn active" data-length="20" onclick="setQuizLength(this)">20 Questions</button>
                <button class="length-btn" data-length="40" onclick="setQuizLength(this)">40 Questions</button>
                <button class="length-btn" data-length="80" onclick="setQuizLength(this)">80 Questions</button>
            </div>
            
            <button class="btn" onclick="startQuiz()">Start Practice Test</button>
        </div>

        <div id="quizContainer" style="display: none;">
            <div class="timer" id="timer">00:00</div>
            
            <div class="progress">
                <div class="progress-bar" id="progressBar"></div>
            </div>
            
            <div id="questionContainer"></div>
        </div>

        <div class="controls" id="controls" style="display: none;">
            <button class="btn btn-secondary" id="prevBtn" onclick="previousQuestion()">← Previous</button>
            <button class="btn" id="checkBtn" onclick="checkAnswer()">Check</button>
            <button class="btn" id="nextBtn" onclick="nextQuestion()" style="display: none;">Next →</button>
        </div>
    </div>

    <script>
        // 50 questions per subject - HIGH DIFFICULTY for medical entrance
        const questions = {
            biology: [
                // Cell Biology & Biochemistry (Questions 1-10)
                {
                    question: "A piece of potato tissue showed no change in mass when placed in 0.25 mol/dm³ sucrose solution. What happens when placed in 0.1 mol/dm³ sucrose solution?",
                    options: [
                        "Mass increases because water potential of cells decreased",
                        "Mass decreases because water potential of cells increased", 
                        "Mass increases because solution is hypotonic to cells",
                        "Mass decreases because solution is hypertonic to cells"
                    ],
                    correct: 2,
                    explanation: "0.1 mol/dm³ is less concentrated (hypotonic), so water moves into cells by osmosis, increasing mass."
                },
                {
                    question: "During aerobic respiration, how many ATP molecules are produced from one glucose molecule through oxidative phosphorylation?",
                    options: ["2 ATP", "4 ATP", "32-34 ATP", "38 ATP"],
                    correct: 2,
                    explanation: "Oxidative phosphorylation in the electron transport chain produces 32-34 ATP per glucose."
                },
                {
                    question: "Which enzyme unwinds the DNA double helix during replication?",
                    options: ["DNA polymerase", "Helicase", "Ligase", "Primase"],
                    correct: 1,
                    explanation: "Helicase breaks hydrogen bonds between base pairs to unwind the DNA double helix."
                },
                {
                    question: "In competitive inhibition, the inhibitor:",
                    options: [
                        "Binds to the allosteric site",
                        "Competes with substrate for the active site",
                        "Changes the shape of the enzyme permanently",
                        "Increases the rate of reaction"
                    ],
                    correct: 1,
                    explanation: "Competitive inhibitors have similar structure to substrate and compete for the active site."
                },
                {
                    question: "The sodium-potassium pump maintains cell potential by:",
                    options: [
                        "Moving 2 Na⁺ out and 3 K⁺ in",
                        "Moving 3 Na⁺ out and 2 K⁺ in",
                        "Moving 3 Na⁺ in and 2 K⁺ out",
                        "Moving equal amounts of Na⁺ and K⁺"
                    ],
                    correct: 1,
                    explanation: "The pump moves 3 Na⁺ out and 2 K⁺ in, using ATP, maintaining negative resting potential."
                },
                {
                    question: "Which organelle is responsible for protein glycosylation?",
                    options: ["Rough ER", "Smooth ER", "Golgi apparatus", "Lysosomes"],
                    correct: 2,
                    explanation: "The Golgi apparatus modifies proteins by adding carbohydrate groups (glycosylation)."
                },
                {
                    question: "In the fluid mosaic model, membrane fluidity is decreased by:",
                    options: [
                        "Unsaturated fatty acids",
                        "Higher temperatures",
                        "Cholesterol at high temperatures",
                        "Shorter fatty acid chains"
                    ],
                    correct: 2,
                    explanation: "Cholesterol reduces fluidity at high temperatures by restraining phospholipid movement."
                },
                {
                    question: "During translation, tRNA anticodons bind to mRNA codons at the:",
                    options: ["A site only", "P site only", "E site only", "A and P sites"],
                    correct: 3,
                    explanation: "tRNA enters at A site, moves to P site during peptide bond formation, then exits at E site."
                },
                {
                    question: "Which process produces lactate in muscle cells during intense exercise?",
                    options: [
                        "Aerobic respiration",
                        "Anaerobic fermentation",
                        "Beta oxidation",
                        "Gluconeogenesis"
                    ],
                    correct: 1,
                    explanation: "Anaerobic fermentation converts pyruvate to lactate when oxygen is limited."
                },
                {
                    question: "The quaternary structure of hemoglobin consists of:",
                    options: [
                        "One polypeptide chain",
                        "Two identical subunits",
                        "Four identical subunits",
                        "Two alpha and two beta subunits"
                    ],
                    correct: 3,
                    explanation: "Hemoglobin has quaternary structure with 2 alpha and 2 beta polypeptide subunits."
                },

                // Genetics & Molecular Biology (Questions 11-20)
                {
                    question: "In a dihybrid cross (AaBb × AaBb), what fraction of offspring will be homozygous recessive for both traits?",
                    options: ["1/4", "1/8", "1/16", "3/16"],
                    correct: 2,
                    explanation: "Probability of aabb = 1/4 × 1/4 = 1/16 in a dihybrid cross."
                },
                {
                    question: "A cell with 2n=24 undergoes meiosis. How many chromosomes are in each cell at metaphase II?",
                    options: ["6", "12", "24", "48"],
                    correct: 1,
                    explanation: "After meiosis I, cells are haploid (n=12). At metaphase II, still 12 chromosomes."
                },
                {
                    question: "Which type of mutation causes a frameshift?",
                    options: [
                        "Substitution of one base",
                        "Insertion of three bases",
                        "Deletion of two bases",
                        "Inversion of a sequence"
                    ],
                    correct: 2,
                    explanation: "Deletion of 2 bases shifts the reading frame (not a multiple of 3)."
                },
                {
                    question: "In PCR, Taq polymerase is used because it:",
                    options: [
                        "Works at room temperature",
                        "Is heat-stable",
                        "Has 3' to 5' exonuclease activity",
                        "Can use RNA as template"
                    ],
                    correct: 1,
                    explanation: "Taq polymerase from thermophilic bacteria withstands the high temperatures of PCR."
                },
                {
                    question: "Sex-linked recessive traits appear more frequently in males because:",
                    options: [
                        "Males have stronger gene expression",
                        "Males have only one X chromosome",
                        "The Y chromosome activates these genes",
                        "Males have weaker immune systems"
                    ],
                    correct: 1,
                    explanation: "Males (XY) need only one recessive allele on X to express the trait; females need two."
                },
                {
                    question: "In gel electrophoresis, DNA fragments separate based on:",
                    options: [
                        "Charge only",
                        "Size only",
                        "Size and charge",
                        "Base composition"
                    ],
                    correct: 1,
                    explanation: "All DNA has same charge/mass ratio; separation is by size through gel pores."
                },
                {
                    question: "The lac operon is an example of:",
                    options: [
                        "Positive regulation only",
                        "Negative regulation only",
                        "Both positive and negative regulation",
                        "Post-transcriptional regulation"
                    ],
                    correct: 2,
                    explanation: "Lac operon has negative regulation (repressor) and positive regulation (CAP-cAMP)."
                },
                {
                    question: "Telomerase activity is highest in:",
                    options: [
                        "Nerve cells",
                        "Muscle cells",
                        "Stem cells",
                        "Red blood cells"
                    ],
                    correct: 2,
                    explanation: "Stem cells maintain telomerase activity for continued division capability."
                },
                {
                    question: "In DNA fingerprinting, VNTRs are useful because they:",
                    options: [
                        "Code for important proteins",
                        "Are highly conserved",
                        "Vary greatly between individuals",
                        "Are found only in criminals"
                    ],
                    correct: 2,
                    explanation: "Variable Number Tandem Repeats vary between individuals, making them useful for identification."
                },
                {
                    question: "Crossing over during meiosis occurs at:",
                    options: [
                        "Prophase I",
                        "Metaphase I", 
                        "Prophase II",
                        "Metaphase II"
                    ],
                    correct: 0,
                    explanation: "Crossing over occurs during prophase I when homologous chromosomes pair up."
                },

                // Human Physiology (Questions 21-30)
                {
                    question: "In the cardiac cycle, when pressure in the left ventricle exceeds aortic pressure:",
                    options: [
                        "AV valves open",
                        "Semilunar valves open",
                        "All valves close",
                        "Atria contract"
                    ],
                    correct: 1,
                    explanation: "When ventricular pressure > aortic pressure, semilunar valves open for ejection."
                },
                {
                    question: "The Bohr effect describes how:",
                    options: [
                        "O₂ binding increases hemoglobin's affinity for CO₂",
                        "CO₂ and H⁺ decrease hemoglobin's affinity for O₂",
                        "Temperature affects gas solubility",
                        "Pressure affects gas exchange"
                    ],
                    correct: 1,
                    explanation: "High CO₂ and H⁺ (low pH) reduce hemoglobin's oxygen affinity, promoting O₂ release."
                },
                {
                    question: "Which hormone directly stimulates water reabsorption in the collecting duct?",
                    options: ["Aldosterone", "ADH", "Renin", "ANP"],
                    correct: 1,
                    explanation: "ADH (antidiuretic hormone) increases water permeability in collecting ducts."
                },
                {
                    question: "During an action potential, repolarization occurs due to:",
                    options: [
                        "Na⁺ influx",
                        "K⁺ efflux",
                        "Ca²⁺ influx",
                        "Cl⁻ influx"
                    ],
                    correct: 1,
                    explanation: "K⁺ channels open during repolarization, allowing K⁺ to leave, restoring negative potential."
                },
                {
                    question: "The hormone that stimulates gluconeogenesis and increases blood glucose is:",
                    options: ["Insulin", "Glucagon", "Thyroxine", "Growth hormone"],
                    correct: 1,
                    explanation: "Glucagon promotes gluconeogenesis in the liver, raising blood glucose levels."
                },
                {
                    question: "In the nephron, most glucose reabsorption occurs in the:",
                    options: [
                        "Glomerulus",
                        "Proximal convoluted tubule",
                        "Loop of Henle",
                        "Distal convoluted tubule"
                    ],
                    correct: 1,
                    explanation: "About 100% of filtered glucose is reabsorbed in the proximal convoluted tubule."
                },
                {
                    question: "Surfactant in alveoli functions to:",
                    options: [
                        "Increase surface tension",
                        "Decrease surface tension",
                        "Transport oxygen",
                        "Fight infections"
                    ],
                    correct: 1,
                    explanation: "Surfactant reduces surface tension, preventing alveolar collapse."
                },
                {
                    question: "The pacemaker of the heart is the:",
                    options: [
                        "AV node",
                        "SA node",
                        "Bundle of His",
                        "Purkinje fibers"
                    ],
                    correct: 1,
                    explanation: "The SA (sinoatrial) node initiates each heartbeat as the natural pacemaker."
                },
                {
                    question: "Which antibody class crosses the placenta?",
                    options: ["IgA", "IgD", "IgG", "IgM"],
                    correct: 2,
                    explanation: "IgG is the only antibody class that crosses the placenta, providing passive immunity."
                },
                {
                    question: "LH surge triggers:",
                    options: [
                        "Menstruation",
                        "Ovulation",
                        "Implantation",
                        "Fertilization"
                    ],
                    correct: 1,
                    explanation: "The LH surge around day 14 triggers ovulation in the menstrual cycle."
                },

                // Ecology & Evolution (Questions 31-40)
                {
                    question: "In the nitrogen cycle, nitrification converts:",
                    options: [
                        "N₂ to NH₃",
                        "NH₃ to NO₃⁻",
                        "NO₃⁻ to N₂",
                        "Proteins to NH₃"
                    ],
                    correct: 1,
                    explanation: "Nitrification is the oxidation of ammonia to nitrite then nitrate by bacteria."
                },
                {
                    question: "Primary succession differs from secondary succession in that primary succession:",
                    options: [
                        "Occurs faster",
                        "Starts with existing soil",
                        "Begins on bare rock",
                        "Has fewer stages"
                    ],
                    correct: 2,
                    explanation: "Primary succession begins on bare rock or sand with no soil present."
                },
                {
                    question: "The Hardy-Weinberg principle assumes all EXCEPT:",
                    options: [
                        "Random mating",
                        "No mutations",
                        "Natural selection occurring",
                        "Large population size"
                    ],
                    correct: 2,
                    explanation: "Hardy-Weinberg assumes no natural selection; selection would change allele frequencies."
                },
                {
                    question: "Convergent evolution results in:",
                    options: [
                        "Homologous structures",
                        "Analogous structures",
                        "Vestigial structures",
                        "Identical DNA sequences"
                    ],
                    correct: 1,
                    explanation: "Convergent evolution produces analogous structures with similar functions but different origins."
                },
                {
                    question: "In a food pyramid, energy transfer between trophic levels is approximately:",
                    options: ["1%", "10%", "50%", "90%"],
                    correct: 1,
                    explanation: "Only about 10% of energy transfers between trophic levels; 90% is lost."
                },
                {
                    question: "Eutrophication is primarily caused by excess:",
                    options: [
                        "Carbon dioxide",
                        "Heavy metals",
                        "Nitrogen and phosphorus",
                        "Pesticides"
                    ],
                    correct: 2,
                    explanation: "Excess N and P from fertilizers cause algal blooms and eutrophication."
                },
                {
                    question: "The founder effect is a type of:",
                    options: [
                        "Natural selection",
                        "Gene flow",
                        "Genetic drift",
                        "Mutation"
                    ],
                    correct: 2,
                    explanation: "Founder effect is genetic drift when a small group establishes a new population."
                },
                {
                    question: "Keystone species are important because they:",
                    options: [
                        "Are the most abundant",
                        "Are primary producers",
                        "Have disproportionate ecological impact",
                        "Are at the top of food chains"
                    ],
                    correct: 2,
                    explanation: "Keystone species have effects on community structure beyond their abundance."
                },
                {
                    question: "Carbon fixation in C4 plants first produces:",
                    options: [
                        "3-phosphoglycerate",
                        "Oxaloacetate",
                        "RuBP",
                        "Glucose"
                    ],
                    correct: 1,
                    explanation: "C4 plants first fix CO₂ into oxaloacetate (4-carbon compound) via PEP carboxylase."
                },
                {
                    question: "Allopatric speciation requires:",
                    options: [
                        "Polyploidy",
                        "Geographic isolation",
                        "Behavioral differences",
                        "Temporal isolation"
                    ],
                    correct: 1,
                    explanation: "Allopatric speciation occurs when populations are geographically separated."
                },

                // Advanced Topics (Questions 41-50)
                {
                    question: "CRISPR-Cas9 system uses which type of RNA for targeting?",
                    options: ["mRNA", "tRNA", "rRNA", "gRNA"],
                    correct: 3,
                    explanation: "Guide RNA (gRNA) directs Cas9 to specific DNA sequences for cutting."
                },
                {
                    question: "Apoptosis is triggered by release of which molecule from mitochondria?",
                    options: ["ATP", "Cytochrome c", "NADH", "Pyruvate"],
                    correct: 1,
                    explanation: "Cytochrome c release from mitochondria activates caspases for apoptosis."
                },
                {
                    question: "Which technique separates proteins by both charge and size?",
                    options: [
                        "SDS-PAGE",
                        "Isoelectric focusing",
                        "2D gel electrophoresis",
                        "Western blotting"
                    ],
                    correct: 2,
                    explanation: "2D electrophoresis separates by isoelectric point (charge) then by size."
                },
                {
                    question: "Monoclonal antibodies are produced by:",
                    options: [
                        "T cells",
                        "Memory B cells",
                        "Hybridomas",
                        "Plasma cells only"
                    ],
                    correct: 2,
                    explanation: "Hybridomas (B cell + myeloma fusion) produce identical monoclonal antibodies."
                },
                {
                    question: "The wobble hypothesis explains why:",
                    options: [
                        "DNA is antiparallel",
                        "There are fewer tRNAs than codons",
                        "Mutations occur",
                        "Proteins fold"
                    ],
                    correct: 1,
                    explanation: "Wobble base pairing allows one tRNA to recognize multiple codons."
                },
                {
                    question: "Epigenetic changes involve:",
                    options: [
                        "DNA sequence changes",
                        "DNA methylation and histone modification",
                        "Chromosome number changes",
                        "RNA sequence changes"
                    ],
                    correct: 1,
                    explanation: "Epigenetics involves heritable changes without altering DNA sequence."
                },
                {
                    question: "In photosynthesis, oxygen is produced from:",
                    options: [
                        "CO₂",
                        "H₂O",
                        "Glucose",
                        "ATP"
                    ],
                    correct: 1,
                    explanation: "O₂ comes from water splitting (photolysis) during light reactions."
                },
                {
                    question: "Which blood type is the universal plasma donor?",
                    options: ["A", "B", "AB", "O"],
                    correct: 2,
                    explanation: "AB plasma has no anti-A or anti-B antibodies, safe for all recipients."
                },
                {
                    question: "The enzyme reverse transcriptase:",
                    options: [
                        "Synthesizes DNA from RNA",
                        "Synthesizes RNA from DNA",
                        "Replicates DNA",
                        "Translates RNA"
                    ],
                    correct: 0,
                    explanation: "Reverse transcriptase synthesizes DNA from RNA template (retroviruses)."
                },
                {
                    question: "In population genetics, if p = 0.7, what is the frequency of heterozygotes?",
                    options: ["0.21", "0.42", "0.49", "0.09"],
                    correct: 1,
                    explanation: "If p = 0.7, then q = 0.3. Heterozygotes = 2pq = 2(0.7)(0.3) = 0.42"
                }
            ],

            chemistry: [
                // Atomic Structure & Periodic Table (Questions 1-10)
                {
                    question: "An element has the electron configuration [Ar]3d¹⁰4s²4p³. It belongs to:",
                    options: ["Group 13", "Group 14", "Group 15", "Group 16"],
                    correct: 2,
                    explanation: "4s²4p³ = 5 valence electrons, which is Group 15 (nitrogen family)."
                },
                {
                    question: "Which has the largest atomic radius?",
                    options: ["Na", "Mg", "K", "Ca"],
                    correct: 2,
                    explanation: "K is in period 4, while Na is in period 3. Atomic radius increases down a group."
                },
                {
                    question: "The first ionization energy is highest for:",
                    options: ["Na", "Mg", "Al", "Ar"],
                    correct: 3,
                    explanation: "Noble gases have highest ionization energy due to stable electron configuration."
                },
                {
                    question: "How many unpaired electrons are in Fe³⁺? (Fe atomic number = 26)",
                    options: ["3", "4", "5", "6"],
                    correct: 2,
                    explanation: "Fe³⁺ has configuration [Ar]3d⁵, with 5 unpaired electrons in d orbitals."
                },
                {
                    question: "Which quantum number determines the shape of an orbital?",
                    options: ["n", "l", "ml", "ms"],
                    correct: 1,
                    explanation: "The angular momentum quantum number (l) determines orbital shape."
                },
                {
                    question: "The effective nuclear charge (Zeff) increases:",
                    options: [
                        "Down a group",
                        "From right to left in a period",
                        "From left to right in a period",
                        "With increasing atomic radius"
                    ],
                    correct: 2,
                    explanation: "Zeff increases across a period as protons increase but shielding remains similar."
                },
                {
                    question: "Which element has the highest electronegativity?",
                    options: ["F", "O", "Cl", "N"],
                    correct: 0,
                    explanation: "Fluorine has the highest electronegativity (3.98 on Pauling scale)."
                },
                {
                    question: "The lanthanide contraction causes:",
                    options: [
                        "Increased atomic radius",
                        "Similar sizes of 4d and 5d elements",
                        "Lower ionization energy",
                        "Decreased nuclear charge"
                    ],
                    correct: 1,
                    explanation: "Poor shielding by 4f electrons causes 5d elements to be similar in size to 4d."
                },
                {
                    question: "Which ion is isoelectronic with Ar?",
                    options: ["Na⁺", "Mg²⁺", "Al³⁺", "S²⁻"],
                    correct: 3,
                    explanation: "S²⁻ has 18 electrons (16 + 2), same as Ar."
                },
                {
                    question: "The number of radial nodes in a 3s orbital is:",
                    options: ["0", "1", "2", "3"],
                    correct: 2,
                    explanation: "Number of radial nodes = n - l - 1 = 3 - 0 - 1 = 2"
                },

                // Chemical Bonding (Questions 11-20)
                {
                    question: "The bond angle in NH₃ is less than 109.5° due to:",
                    options: [
                        "sp² hybridization",
                        "Lone pair repulsion",
                        "Double bonds",
                        "Resonance"
                    ],
                    correct: 1,
                    explanation: "Lone pair on N causes greater repulsion, reducing bond angle from tetrahedral."
                },
                {
                    question: "Which molecule has the shortest C-C bond?",
                    options: ["C₂H₆", "C₂H₄", "C₂H₂", "C₆H₆"],
                    correct: 2,
                    explanation: "C₂H₂ (acetylene) has a triple bond, which is the shortest C-C bond."
                },
                {
                    question: "The hybridization of sulfur in SF₆ is:",
                    options: ["sp³", "sp³d", "sp³d²", "sp²"],
                    correct: 2,
                    explanation: "SF₆ is octahedral with 6 bond pairs, requiring sp³d² hybridization."
                },
                {
                    question: "Which has the highest lattice energy?",
                    options: ["NaCl", "KCl", "MgO", "CaO"],
                    correct: 2,
                    explanation: "MgO has highest lattice energy due to small size and 2+ charges on both ions."
                },
                {
                    question: "In BF₃, the B-F bond has what character?",
                    options: [
                        "Pure single bond",
                        "Some double bond character",
                        "Pure double bond",
                        "Triple bond character"
                    ],
                    correct: 1,
                    explanation: "Back-bonding from F lone pairs to empty B p-orbital gives partial double bond character."
                },
                {
                    question: "Which molecule is polar?",
                    options: ["CO₂", "BF₃", "NH₃", "CH₄"],
                    correct: 2,
                    explanation: "NH₃ has pyramidal shape with lone pair, creating a dipole moment."
                },
                {
                    question: "The strongest intermolecular force in HF is:",
                    options: [
                        "London dispersion",
                        "Dipole-dipole",
                        "Hydrogen bonding",
                        "Ion-dipole"
                    ],
                    correct: 2,
                    explanation: "HF forms strong hydrogen bonds due to highly electronegative F."
                },
                {
                    question: "Resonance structures differ in:",
                    options: [
                        "Atom positions",
                        "Electron positions",
                        "Number of electrons",
                        "Molecular formula"
                    ],
                    correct: 1,
                    explanation: "Resonance structures have same atom positions but different electron distributions."
                },
                {
                    question: "The bond order in O₂²⁻ is:",
                    options: ["1", "1.5", "2", "2.5"],
                    correct: 0,
                    explanation: "O₂ has bond order 2; O₂²⁻ has 2 more electrons in antibonding orbitals: (10-8)/2 = 1"
                },
                {
                    question: "Which exhibits coordinate covalent bonding?",
                    options: ["H₂O", "NH₄⁺", "CH₄", "HCl"],
                    correct: 1,
                    explanation: "In NH₄⁺, nitrogen donates both electrons to form bond with H⁺."
                },

                // Acids, Bases & Equilibrium (Questions 21-30)
                {
                    question: "Calculate pH of 0.001 M HCl solution:",
                    options: ["1", "2", "3", "4"],
                    correct: 2,
                    explanation: "HCl is strong acid, [H⁺] = 0.001 = 10⁻³, pH = -log(10⁻³) = 3"
                },
                {
                    question: "For weak acid HA with Ka = 1.8 × 10⁻⁵, what is pKa?",
                    options: ["4.24", "4.74", "5.26", "5.74"],
                    correct: 1,
                    explanation: "pKa = -log(1.8 × 10⁻⁵) = -log(1.8) - log(10⁻⁵) = -0.26 + 5 = 4.74"
                },
                {
                    question: "A buffer solution contains equal concentrations of acetic acid and acetate. The pH equals:",
                    options: ["0", "7", "pKa", "14"],
                    correct: 2,
                    explanation: "Henderson-Hasselbalch: pH = pKa + log([A⁻]/[HA]). When [A⁻] = [HA], pH = pKa"
                },
                {
                    question: "For the equilibrium N₂ + 3H₂ ⇌ 2NH₃, increasing pressure will:",
                    options: [
                        "Shift left",
                        "Shift right",
                        "No effect",
                        "Decrease Kc"
                    ],
                    correct: 1,
                    explanation: "4 moles gas → 2 moles gas. Pressure increase favors fewer moles (right)."
                },
                {
                    question: "If Ksp of AgCl = 1.8 × 10⁻¹⁰, its solubility in mol/L is:",
                    options: [
                        "1.34 × 10⁻⁵",
                        "1.8 × 10⁻¹⁰",
                        "9 × 10⁻⁶",
                        "3.24 × 10⁻²⁰"
                    ],
                    correct: 0,
                    explanation: "Ksp = [Ag⁺][Cl⁻] = s². So s = √(1.8 × 10⁻¹⁰) = 1.34 × 10⁻⁵"
                },
                {
                    question: "Which is the strongest acid?",
                    options: ["HF", "HCl", "HBr", "HI"],
                    correct: 3,
                    explanation: "Acid strength increases down the group: HI > HBr > HCl > HF"
                },
                {
                    question: "The conjugate base of HSO₄⁻ is:",
                    options: ["H₂SO₄", "SO₄²⁻", "H₃O⁺", "OH⁻"],
                    correct: 1,
                    explanation: "Conjugate base forms when acid loses H⁺: HSO₄⁻ → SO₄²⁻ + H⁺"
                },
                {
                    question: "At equivalence point in titration of weak acid with strong base, pH is:",
                    options: ["< 7", "= 7", "> 7", "= pKa"],
                    correct: 2,
                    explanation: "At equivalence point, only conjugate base present, which hydrolyzes to give pH > 7"
                },
                {
                    question: "Common ion effect causes:",
                    options: [
                        "Increased solubility",
                        "Decreased solubility",
                        "No change in solubility",
                        "Increased Ksp"
                    ],
                    correct: 1,
                    explanation: "Common ion shifts equilibrium left, decreasing solubility."
                },
                {
                    question: "For reaction with ΔG° > 0, the equilibrium constant K is:",
                    options: ["K > 1", "K = 1", "K < 1", "K = 0"],
                    correct: 2,
                    explanation: "ΔG° = -RT ln K. If ΔG° > 0, then ln K < 0, so K < 1"
                },

                // Thermochemistry & Kinetics (Questions 31-40)
                {
                    question: "For an exothermic reaction, increasing temperature:",
                    options: [
                        "Increases K",
                        "Decreases K",
                        "No effect on K",
                        "Increases activation energy"
                    ],
                    correct: 1,
                    explanation: "For exothermic reactions, heat is a product. Increasing T shifts equilibrium left, decreasing K."
                },
                {
                    question: "If reaction rate doubles when concentration doubles, the order is:",
                    options: ["0", "1", "2", "3"],
                    correct: 1,
                    explanation: "Rate ∝ [A]ⁿ. If doubling [A] doubles rate: 2 = 2ⁿ, so n = 1"
                },
                {
                    question: "The half-life of a first-order reaction with k = 0.693 min⁻¹ is:",
                    options: ["0.5 min", "1 min", "2 min", "0.693 min"],
                    correct: 1,
                    explanation: "For first-order: t₁/₂ = 0.693/k = 0.693/0.693 = 1 min"
                },
                {
                    question: "Which increases reaction rate?",
                    options: [
                        "Decreasing temperature",
                        "Adding inhibitor",
                        "Increasing surface area",
                        "Decreasing pressure"
                    ],
                    correct: 2,
                    explanation: "Increasing surface area provides more collision sites, increasing reaction rate."
                },
                {
                    question: "For the reaction 2A → B, if [A] decreases from 0.8 M to 0.2 M in 2 minutes, the rate is:",
                    options: ["0.15 M/min", "0.3 M/min", "0.6 M/min", "1.2 M/min"],
                    correct: 0,
                    explanation: "Rate = -Δ[A]/2Δt = -(0.2-0.8)/(2×2) = 0.6/4 = 0.15 M/min"
                },
                {
                    question: "ΔH for a reaction can be calculated using:",
                    options: [
                        "Hess's Law",
                        "Le Chatelier's Principle",
                        "Ideal Gas Law",
                        "Dalton's Law"
                    ],
                    correct: 0,
                    explanation: "Hess's Law: ΔH is same regardless of pathway, allowing calculation from known reactions."
                },
                {
                    question: "Entropy increases in which process?",
                    options: [
                        "Freezing water",
                        "Dissolving salt in water",
                        "Crystallization",
                        "Gas condensation"
                    ],
                    correct: 1,
                    explanation: "Dissolving increases disorder as ions spread throughout solution."
                },
                {
                    question: "For spontaneous reaction at all temperatures:",
                    options: [
                        "ΔH > 0, ΔS > 0",
                        "ΔH < 0, ΔS > 0",
                        "ΔH < 0, ΔS < 0",
                        "ΔH > 0, ΔS < 0"
                    ],
                    correct: 1,
                    explanation: "ΔG = ΔH - TΔS. For ΔG < 0 at all T: need ΔH < 0 and ΔS > 0"
                },
                {
                    question: "Activation energy can be determined from:",
                    options: [
                        "Equilibrium constant",
                        "Arrhenius plot",
                        "pH measurement",
                        "Titration curve"
                    ],
                    correct: 1,
                    explanation: "Arrhenius equation: ln k vs 1/T gives slope = -Ea/R"
                },
                {
                    question: "Catalyst increases reaction rate by:",
                    options: [
                        "Increasing temperature",
                        "Increasing concentration",
                        "Lowering activation energy",
                        "Changing equilibrium position"
                    ],
                    correct: 2,
                    explanation: "Catalysts provide alternative pathway with lower activation energy."
                },

                // Electrochemistry & Redox (Questions 41-50)
                {
                    question: "In the reaction Zn + Cu²⁺ → Zn²⁺ + Cu, the reducing agent is:",
                    options: ["Zn", "Cu²⁺", "Zn²⁺", "Cu"],
                    correct: 0,
                    explanation: "Zn loses electrons (oxidized), so it's the reducing agent."
                },
                {
                    question: "If E°(Cu²⁺/Cu) = +0.34V and E°(Zn²⁺/Zn) = -0.76V, the cell potential is:",
                    options: ["0.42V", "1.10V", "-0.42V", "-1.10V"],
                    correct: 1,
                    explanation: "E°cell = E°cathode - E°anode = 0.34 - (-0.76) = 1.10V"
                },
                {
                    question: "In electrolysis of molten NaCl, at the cathode:",
                    options: [
                        "Na⁺ is reduced",
                        "Cl⁻ is oxidized",
                        "H₂ is produced",
                        "O₂ is produced"
                    ],
                    correct: 0,
                    explanation: "At cathode (reduction): Na⁺ + e⁻ → Na"
                },
                {
                    question: "The oxidation state of Cr in Cr₂O₇²⁻ is:",
                    options: ["+3", "+4", "+6", "+7"],
                    correct: 2,
                    explanation: "2Cr + 7(-2) = -2, so 2Cr = +12, Cr = +6"
                },
                {
                    question: "How many electrons are transferred in: MnO₄⁻ → Mn²⁺ (acidic)?",
                    options: ["2", "3", "5", "7"],
                    correct: 2,
                    explanation: "Mn goes from +7 to +2, gaining 5 electrons."
                },
                {
                    question: "Faraday's constant represents:",
                    options: [
                        "Charge of one electron",
                        "Charge of one mole of electrons",
                        "Avogadro's number",
                        "Gas constant"
                    ],
                    correct: 1,
                    explanation: "F = 96,485 C/mol, the charge of one mole of electrons."
                },
                {
                    question: "To electroplate 10.8g of silver (Ag = 108), the charge needed is:",
                    options: ["0.1 F", "0.5 F", "1 F", "2 F"],
                    correct: 0,
                    explanation: "10.8g = 0.1 mol Ag. Ag⁺ + e⁻ → Ag needs 0.1 mol e⁻ = 0.1 F"
                },
                {
                    question: "Which can act as both oxidizing and reducing agent?",
                    options: ["F⁻", "H₂O₂", "MnO₄⁻", "F₂"],
                    correct: 1,
                    explanation: "H₂O₂ can be oxidized to O₂ or reduced to H₂O."
                },
                {
                    question: "A positive E°cell indicates:",
                    options: [
                        "Non-spontaneous reaction",
                        "Spontaneous reaction",
                        "Equilibrium",
                        "Endothermic reaction"
                    ],
                    correct: 1,
                    explanation: "ΔG° = -nFE°. Positive E° means negative ΔG°, spontaneous."
                },
                {
                    question: "The Nernst equation relates cell potential to:",
                    options: [
                        "Temperature only",
                        "Pressure only",
                        "Concentration",
                        "Activation energy"
                    ],
                    correct: 2,
                    explanation: "E = E° - (RT/nF)lnQ, where Q involves concentrations."
                }
            ],

            physics: [
                // Mechanics (Questions 1-15)
                {
                    question: "A projectile is fired at 30° with initial velocity 40 m/s. Maximum height reached is: (g = 10 m/s²)",
                    options: ["10 m", "20 m", "40 m", "80 m"],
                    correct: 1,
                    explanation: "H = (v₀²sin²θ)/2g = (40² × sin²30°)/20 = (1600 × 0.25)/20 = 20 m"
                },
                {
                    question: "A 2 kg mass on a spring (k = 200 N/m) has what period of oscillation?",
                    options: ["0.314 s", "0.628 s", "1.256 s", "2.512 s"],
                    correct: 1,
                    explanation: "T = 2π√(m/k) = 2π√(2/200) = 2π√(0.01) = 2π(0.1) = 0.628 s"
                },
                {
                    question: "A car rounds a curve of radius 50 m at 20 m/s. The centripetal acceleration is:",
                    options: ["2 m/s²", "4 m/s²", "8 m/s²", "16 m/s²"],
                    correct: 2,
                    explanation: "a = v²/r = 20²/50 = 400/50 = 8 m/s²"
                },
                {
                    question: "Two masses (3 kg and 2 kg) collide elastically. If 3 kg moves at 4 m/s and 2 kg is at rest, find final velocity of 2 kg mass:",
                    options: ["2.4 m/s", "4.8 m/s", "6.0 m/s", "7.2 m/s"],
                    correct: 1,
                    explanation: "For elastic collision: v₂ = 2m₁v₁/(m₁+m₂) = 2(3)(4)/(3+2) = 24/5 = 4.8 m/s"
                },
                {
                    question: "A ball falls from height h. At what height is KE = PE?",
                    options: ["h/4", "h/3", "h/2", "2h/3"],
                    correct: 2,
                    explanation: "Total energy = mgh. When KE = PE, each equals mgh/2, so PE = mg(h/2)"
                },
                {
                    question: "Angular momentum of a particle at position r with momentum p is:",
                    options: ["r · p", "r × p", "r + p", "r - p"],
                    correct: 1,
                    explanation: "Angular momentum L = r × p (cross product of position and momentum)"
                },
                {
                    question: "A wheel starts from rest with angular acceleration 2 rad/s². Angle rotated in 5 s is:",
                    options: ["10 rad", "25 rad", "50 rad", "100 rad"],
                    correct: 1,
                    explanation: "θ = ½αt² = ½(2)(5²) = ½(2)(25) = 25 rad"
                },
                {
                    question: "For a satellite in circular orbit, if radius doubles, orbital period increases by factor of:",
                    options: ["√2", "2", "2√2", "4"],
                    correct: 2,
                    explanation: "T ∝ r^(3/2). If r doubles: T₂/T₁ = (2)^(3/2) = 2√2"
                },
                {
                    question: "A force F = 3i + 4j acts on particle moving from (0,0) to (2,0). Work done is:",
                    options: ["6 J", "8 J", "10 J", "14 J"],
                    correct: 0,
                    explanation: "W = F · d = (3i + 4j) · (2i) = 6 J"
                },
                {
                    question: "Escape velocity from Earth's surface is approximately:",
                    options: ["7.9 km/s", "11.2 km/s", "16.7 km/s", "24.8 km/s"],
                    correct: 1,
                    explanation: "v_escape = √(2GM/R) ≈ 11.2 km/s for Earth"
                },
                {
                    question: "A pendulum's period on Moon (g = 1.6 m/s²) compared to Earth (g = 9.8 m/s²) is:",
                    options: ["0.4 times", "0.63 times", "2.47 times", "6.13 times"],
                    correct: 2,
                    explanation: "T ∝ 1/√g, so T_moon/T_earth = √(9.8/1.6) = √6.13 ≈ 2.47"
                },
                {
                    question: "Moment of inertia of a solid sphere (mass M, radius R) about its diameter is:",
                    options: ["MR²", "⅔MR²", "⅖MR²", "½MR²"],
                    correct: 2,
                    explanation: "For solid sphere about diameter: I = ⅖MR²"
                },
                {
                    question: "Banking angle for a car on curve (radius 100 m, speed 20 m/s, g = 10 m/s²) is:",
                    options: ["11.3°", "21.8°", "30.0°", "45.0°"],
                    correct: 1,
                    explanation: "tan θ = v²/rg = 400/(100×10) = 0.4, θ = arctan(0.4) ≈ 21.8°"
                },
                {
                    question: "Coefficient of restitution for perfectly elastic collision is:",
                    options: ["0", "0.5", "1", "∞"],
                    correct: 2,
                    explanation: "e = 1 for perfectly elastic collision (relative velocity reverses)"
                },
                {
                    question: "Terminal velocity of a falling sphere depends on radius as:",
                    options: ["r", "r²", "r³", "√r"],
                    correct: 1,
                    explanation: "Terminal velocity ∝ r² (from balancing drag and weight forces)"
                },

                // Electricity & Magnetism (Questions 16-30)
                {
                    question: "Three resistors (2Ω, 3Ω, 6Ω) in parallel have equivalent resistance:",
                    options: ["0.5 Ω", "1 Ω", "1.5 Ω", "11 Ω"],
                    correct: 1,
                    explanation: "1/R = 1/2 + 1/3 + 1/6 = 3/6 + 2/6 + 1/6 = 6/6 = 1, so R = 1 Ω"
                },
                {
                    question: "A capacitor (C = 10 μF) charged to 100 V stores energy:",
                    options: ["0.05 J", "0.5 J", "5 J", "50 J"],
                    correct: 0,
                    explanation: "E = ½CV² = ½(10×10⁻⁶)(100²) = ½(10⁻⁵)(10⁴) = 0.05 J"
                },
                {
                    question: "Two point charges +q and -q separated by distance 2a. Electric field at midpoint is:",
                    options: ["0", "kq/a²", "2kq/a²", "4kq/a²"],
                    correct: 3,
                    explanation: "Both charges create field in same direction at midpoint: E = 2(kq/a²) = 4kq/a²"
                },
                {
                    question: "A wire carrying current I in magnetic field B experiences maximum force when angle between them is:",
                    options: ["0°", "45°", "90°", "180°"],
                    correct: 2,
                    explanation: "F = BIL sin θ is maximum when sin θ = 1, i.e., θ = 90°"
                },
                {
                    question: "Inductance of a solenoid with N turns, length l, area A is proportional to:",
                    options: ["N", "N²", "1/N", "1/N²"],
                    correct: 1,
                    explanation: "L = μ₀N²A/l, so inductance is proportional to N²"
                },
                {
                    question: "In AC circuit, power factor cos φ = 0.8. If V = 220V and I = 5A, real power is:",
                    options: ["440 W", "880 W", "1100 W", "1375 W"],
                    correct: 1,
                    explanation: "P = VI cos φ = 220 × 5 × 0.8 = 880 W"
                },
                {
                    question: "Time constant of RC circuit with R = 1 kΩ and C = 1 μF is:",
                    options: ["1 μs", "1 ms", "1 s", "1000 s"],
                    correct: 1,
                    explanation: "τ = RC = 10³ × 10⁻⁶ = 10⁻³ s = 1 ms"
                },
                {
                    question: "Magnetic field inside a long solenoid with n turns per meter carrying current I is:",
                    options: ["μ₀I", "μ₀nI", "μ₀n²I", "μ₀I/n"],
                    correct: 1,
                    explanation: "B = μ₀nI for ideal solenoid"
                },
                {
                    question: "Two capacitors (3 μF and 6 μF) in series have equivalent capacitance:",
                    options: ["2 μF", "4.5 μF", "9 μF", "18 μF"],
                    correct: 0,
                    explanation: "1/C = 1/3 + 1/6 = 2/6 + 1/6 = 3/6 = 1/2, so C = 2 μF"
                },
                {
                    question: "Electric potential at distance r from point charge q is:",
                    options: ["kq/r²", "kq/r", "kqr", "kqr²"],
                    correct: 1,
                    explanation: "V = kq/r (electric potential, not field)"
                },
                {
                    question: "A transformer with 1000 primary turns and 100 secondary turns, primary voltage 220V gives secondary voltage:",
                    options: ["22 V", "220 V", "2200 V", "22000 V"],
                    correct: 0,
                    explanation: "Vs/Vp = Ns/Np, so Vs = 220 × (100/1000) = 22 V"
                },
                {
                    question: "Impedance of circuit with R = 3Ω and XL = 4Ω is:",
                    options: ["1 Ω", "5 Ω", "7 Ω", "12 Ω"],
                    correct: 1,
                    explanation: "Z = √(R² + XL²) = √(9 + 16) = √25 = 5 Ω"
                },
                {
                    question: "Eddy currents in a conductor are minimized by:",
                    options: [
                        "Using solid core",
                        "Increasing thickness",
                        "Laminating the core",
                        "Increasing conductivity"
                    ],
                    correct: 2,
                    explanation: "Lamination increases resistance to eddy current paths, reducing losses"
                },
                {
                    question: "In photoelectric effect, stopping potential depends on:",
                    options: [
                        "Intensity of light",
                        "Frequency of light",
                        "Work function only",
                        "Temperature"
                    ],
                    correct: 1,
                    explanation: "eV₀ = hf - φ, stopping potential depends on frequency"
                },
                {
                    question: "Lenz's law is a consequence of:",
                    options: [
                        "Conservation of charge",
                        "Conservation of energy",
                        "Conservation of momentum",
                        "Ohm's law"
                    ],
                    correct: 1,
                    explanation: "Lenz's law ensures induced EMF opposes change, conserving energy"
                },

                // Waves & Optics (Questions 31-40)
                {
                    question: "Two sources with phase difference π/2 and equal amplitude A produce resultant amplitude:",
                    options: ["0", "A", "A√2", "2A"],
                    correct: 2,
                    explanation: "R = √(A² + A² + 2A²cos(π/2)) = √(2A²) = A√2"
                },
                {
                    question: "A converging lens (f = 20 cm) forms image at 60 cm for object distance:",
                    options: ["15 cm", "30 cm", "40 cm", "80 cm"],
                    correct: 1,
                    explanation: "1/f = 1/u + 1/v; 1/20 = 1/u + 1/60; 1/u = 1/20 - 1/60 = 1/30; u = 30 cm"
                },
                {
                    question: "In Young's double slit, if slit separation doubles, fringe width:",
                    options: ["Doubles", "Halves", "Quadruples", "Remains same"],
                    correct: 1,
                    explanation: "Fringe width β = λD/d. If d doubles, β halves"
                },
                {
                    question: "Critical angle for total internal reflection from glass (n=1.5) to air is:",
                    options: ["30°", "42°", "48°", "60°"],
                    correct: 1,
                    explanation: "sin θc = 1/n = 1/1.5 = 0.667, θc = arcsin(0.667) ≈ 42°"
                },
                {
                    question: "Doppler shift for source moving towards observer at 0.1c is approximately:",
                    options: ["10% increase", "11% increase", "9% decrease", "10% decrease"],
                    correct: 1,
                    explanation: "f' = f/(1-v/c) ≈ f/(0.9) ≈ 1.11f, about 11% increase"
                },
                {
                    question: "Polaroid reduces unpolarized light intensity by factor of:",
                    options: ["1/4", "1/2", "1/√2", "No change"],
                    correct: 1,
                    explanation: "Malus's law: polaroid transmits half the unpolarized light intensity"
                },
                {
                    question: "For diffraction grating with 500 lines/mm, first order maximum for 600 nm light occurs at:",
                    options: ["17.5°", "30°", "45°", "60°"],
                    correct: 0,
                    explanation: "d sin θ = nλ; (2×10⁻⁶) sin θ = 600×10⁻⁹; sin θ = 0.3; θ ≈ 17.5°"
                },
                {
                    question: "Standing wave on string has adjacent nodes separated by:",
                    options: ["λ/4", "λ/2", "λ", "2λ"],
                    correct: 1,
                    explanation: "Adjacent nodes in standing wave are separated by λ/2"
                },
                {
                    question: "Brewster's angle for glass (n = 1.5) is:",
                    options: ["33.7°", "45°", "56.3°", "90°"],
                    correct: 2,
                    explanation: "tan θB = n = 1.5, so θB = arctan(1.5) ≈ 56.3°"
                },
                {
                    question: "In single slit diffraction, first minimum occurs when path difference is:",
                    options: ["λ/2", "λ", "3λ/2", "2λ"],
                    correct: 1,
                    explanation: "First minimum: a sin θ = λ (where a is slit width)"
                },

                // Modern Physics (Questions 41-50)
                {
                    question: "de Broglie wavelength of electron accelerated through 100 V is approximately:",
                    options: ["0.123 nm", "1.23 nm", "12.3 nm", "123 nm"],
                    correct: 0,
                    explanation: "λ = h/√(2meV) ≈ 1.23/√V nm = 1.23/10 = 0.123 nm"
                },
                {
                    question: "In photoelectric effect, if frequency doubles, maximum KE of electrons:",
                    options: [
                        "Doubles",
                        "More than doubles",
                        "Less than doubles",
                        "Quadruples"
                    ],
                    correct: 1,
                    explanation: "KE = hf - φ. If f doubles: KE₂ = 2hf - φ > 2(hf - φ) = 2KE₁"
                },
                {
                    question: "Half-life of radioactive sample is 10 days. Fraction remaining after 30 days:",
                    options: ["1/3", "1/4", "1/6", "1/8"],
                    correct: 3,
                    explanation: "After 3 half-lives: (1/2)³ = 1/8 remains"
                },
                {
                    question: "Binding energy per nucleon is maximum for:",
                    options: ["Hydrogen", "Carbon", "Iron", "Uranium"],
                    correct: 2,
                    explanation: "Fe-56 has maximum binding energy per nucleon (~8.8 MeV)"
                },
                {
                    question: "Uncertainty in position of electron confined to 1 nm is minimum:",
                    options: [
                        "5.3 × 10⁻²⁶ kg⋅m/s",
                        "1.05 × 10⁻²⁵ kg⋅m/s",
                        "5.3 × 10⁻²⁵ kg⋅m/s",
                        "1.05 × 10⁻²⁴ kg⋅m/s"
                    ],
                    correct: 2,
                    explanation: "Δp ≥ ℏ/2Δx = 1.05×10⁻³⁴/(2×10⁻⁹) ≈ 5.3×10⁻²⁵ kg⋅m/s"
                },
                {
                    question: "Energy levels of hydrogen atom are proportional to:",
                    options: ["n", "n²", "1/n", "1/n²"],
                    correct: 3,
                    explanation: "En = -13.6/n² eV, so energy proportional to 1/n²"
                },
                {
                    question: "In Compton scattering, maximum wavelength shift occurs at:",
                    options: ["0°", "90°", "180°", "45°"],
                    correct: 2,
                    explanation: "Δλ = (h/mc)(1 - cos θ) is maximum when cos θ = -1, i.e., θ = 180°"
                },
                {
                    question: "Tunnel effect probability depends exponentially on:",
                    options: [
                        "Particle mass",
                        "Barrier width",
                        "Both mass and width",
                        "Neither"
                    ],
                    correct: 2,
                    explanation: "T ∝ exp(-2κL) where κ ∝ √m and L is barrier width"
                },
                {
                    question: "Rest mass energy of electron is approximately:",
                    options: ["0.051 MeV", "0.511 MeV", "5.11 MeV", "51.1 MeV"],
                    correct: 1,
                    explanation: "E = mc² = 9.1×10⁻³¹ × (3×10⁸)² / (1.6×10⁻¹³) ≈ 0.511 MeV"
                },
                {
                    question: "Zeeman effect is splitting of spectral lines in:",
                    options: [
                        "Electric field",
                        "Magnetic field",
                        "Gravitational field",
                        "No field"
                    ],
                    correct: 1,
                    explanation: "Zeeman effect: spectral line splitting in magnetic field due to magnetic quantum number"
                }
            ],

            math: [
                // Algebra & Functions (Questions 1-15)
                {
                    question: "Solve for x: log₂(x) + log₂(x-2) = 3",
                    options: ["x = 2", "x = 3", "x = 4", "x = 8"],
                    correct: 2,
                    explanation: "log₂[x(x-2)] = 3, so x(x-2) = 8. x² - 2x - 8 = 0, (x-4)(x+2) = 0. Since x > 2, x = 4"
                },
                {
                    question: "If f(x) = 2x + 3 and g(x) = x² - 1, find (f∘g)(2):",
                    options: ["5", "7", "9", "11"],
                    correct: 1,
                    explanation: "g(2) = 4 - 1 = 3, then f(3) = 2(3) + 3 = 9. Wait, let me recalculate: g(2) = 2² - 1 = 3, f(3) = 2(3) + 3 = 9"
                },
                {
                    question: "The sum of an infinite geometric series with first term 3 and ratio 1/3 is:",
                    options: ["4", "4.5", "6", "9"],
                    correct: 1,
                    explanation: "S = a/(1-r) = 3/(1-1/3) = 3/(2/3) = 9/2 = 4.5"
                },
                {
                    question: "How many real solutions does x³ - 6x² + 11x - 6 = 0 have?",
                    options: ["0", "1", "2", "3"],
                    correct: 3,
                    explanation: "This factors as (x-1)(x-2)(x-3) = 0, giving three real solutions: 1, 2, 3"
                },
                {
                    question: "If 2^x = 3^y = 6, then 1/x + 1/y equals:",
                    options: ["1/6", "1", "6", "log 6"],
                    correct: 1,
                    explanation: "x = log₂6, y = log₃6. So 1/x + 1/y = log₆2 + log₆3 = log₆6 = 1"
                },
                {
                    question: "The domain of f(x) = √(4-x²) is:",
                    options: ["[-2, 2]", "(-2, 2)", "(-∞, -2] ∪ [2, ∞)", "All real numbers"],
                    correct: 0,
                    explanation: "Need 4-x² ≥ 0, so x² ≤ 4, which gives -2 ≤ x ≤ 2"
                },
                {
                    question: "Solve: |2x - 3| = 5",
                    options: ["x = 4 only", "x = -1 only", "x = -1 or 4", "No solution"],
                    correct: 2,
                    explanation: "2x - 3 = 5 gives x = 4, or 2x - 3 = -5 gives x = -1"
                },
                {
                    question: "If a quadratic has discriminant 0, it has:",
                    options: ["No real roots", "One real root", "Two equal real roots", "Two distinct real roots"],
                    correct: 1,
                    explanation: "Discriminant = 0 means one repeated real root (or two equal real roots)"
                },
                {
                    question: "Find the inverse of f(x) = (2x + 1)/(x - 3):",
                    options: ["(3x + 1)/(x - 2)", "(3x - 1)/(x + 2)", "(x + 3)/(2x - 1)", "(3x + 1)/(2 - x)"],
                    correct: 0,
                    explanation: "Let y = (2x+1)/(x-3). Solve for x: y(x-3) = 2x+1, yx-3y = 2x+1, x(y-2) = 3y+1, x = (3y+1)/(y-2)"
                },
                {
                    question: "The number of ways to arrange the letters in 'MATHEMATICS' is:",
                    options: ["11!", "11!/2!2!2!", "11!/2!2!", "11!/2!"],
                    correct: 1,
                    explanation: "MATHEMATICS has 11 letters with M appearing 2 times, A appearing 2 times, T appearing 2 times. Answer: 11!/(2!2!2!)"
                },
                {
                    question: "Sum of the first n terms of arithmetic sequence with a₁ = 3 and d = 4 is:",
                    options: ["n(2n + 1)", "n(2n - 1)", "2n² + n", "2n² - n"],
                    correct: 0,
                    explanation: "Sₙ = n/2[2a₁ + (n-1)d] = n/2[6 + 4n - 4] = n/2[4n + 2] = n(2n + 1)"
                },
                {
                    question: "If sin x + cos x = 1.2, find sin 2x:",
                    options: ["0.44", "0.88", "1.44", "Cannot be determined"],
                    correct: 0,
                    explanation: "Square both sides: sin²x + 2sinxcosx + cos²x = 1.44, so 1 + sin2x = 1.44, sin2x = 0.44"
                },
                {
                    question: "Complex number (1 + i)⁸ equals:",
                    options: ["16", "-16", "16i", "-16i"],
                    correct: 0,
                    explanation: "(1 + i)² = 2i, so (1 + i)⁴ = -4, and (1 + i)⁸ = 16"
                },
                {
                    question: "The remainder when x³ - 2x + 5 is divided by (x - 2) is:",
                    options: ["5", "7", "9", "11"],
                    correct: 2,
                    explanation: "By remainder theorem, remainder = f(2) = 8 - 4 + 5 = 9"
                },
                {
                    question: "How many solutions does sin x = x/10 have?",
                    options: ["1", "3", "5", "7"],
                    correct: 3,
                    explanation: "The line y = x/10 intersects y = sin x at origin and 3 pairs of points (±), total 7 solutions"
                },

                // Calculus (Questions 16-30)
                {
                    question: "Derivative of f(x) = x²sin x is:",
                    options: ["2x sin x", "x² cos x", "2x sin x + x² cos x", "2x cos x - x² sin x"],
                    correct: 2,
                    explanation: "Using product rule: f'(x) = 2x·sin x + x²·cos x"
                },
                {
                    question: "∫(1/(x² + 4))dx equals:",
                    options: ["(1/2)arctan(x/2) + C", "(1/4)arctan(x/2) + C", "arctan(x/2) + C", "2arctan(x/2) + C"],
                    correct: 0,
                    explanation: "∫1/(x² + 4)dx = ∫1/4(1/(x²/4 + 1))dx = (1/2)arctan(x/2) + C"
                },
                {
                    question: "Find the area between y = x² and y = 2x from x = 0 to x = 2:",
                    options: ["2/3", "4/3", "8/3", "16/3"],
                    correct: 1,
                    explanation: "Area = ∫₀²(2x - x²)dx = [x² - x³/3]₀² = 4 - 8/3 = 4/3"
                },
                {
                    question: "If f'(x) = 3x² - 6x and f(0) = 2, find f(2):",
                    options: ["-2", "0", "2", "4"],
                    correct: 0,
                    explanation: "f(x) = x³ - 3x² + C. Since f(0) = 2, C = 2. So f(2) = 8 - 12 + 2 = -2"
                },
                {
                    question: "The maximum value of f(x) = x³ - 3x on [-2, 2] is:",
                    options: ["-2", "0", "2", "4"],
                    correct: 2,
                    explanation: "f'(x) = 3x² - 3 = 0 gives x = ±1. Check f(-2) = -2, f(-1) = 2, f(1) = -2, f(2) = 2. Max is 2"
                },
                {
                    question: "lim(x→0) (sin 3x)/(2x) equals:",
                    options: ["0", "2/3", "3/2", "∞"],
                    correct: 2,
                    explanation: "lim(x→0) (sin 3x)/(2x) = lim(x→0) 3(sin 3x)/(3x) · 1/2 = 3/2"
                },
                {
                    question: "The inflection point of y = x³ - 3x² + 2 occurs at x =",
                    options: ["0", "1", "2", "3"],
                    correct: 1,
                    explanation: "y'' = 6x - 6 = 0 gives x = 1. Check sign change: inflection at x = 1"
                },
                {
                    question: "∫₀^π sin²x dx equals:",
                    options: ["0", "π/2", "π", "2π"],
                    correct: 1,
                    explanation: "Using sin²x = (1 - cos2x)/2: ∫₀^π (1 - cos2x)/2 dx = π/2"
                },
                {
                    question: "Volume of solid formed by rotating y = √x about x-axis from x = 0 to x = 4:",
                    options: ["4π", "8π", "16π", "32π"],
                    correct: 1,
                    explanation: "V = π∫₀⁴ (√x)² dx = π∫₀⁴ x dx = π[x²/2]₀⁴ = 8π"
                },
                {
                    question: "If dy/dx = 2y and y(0) = 3, find y(1):",
                    options: ["3e", "3e²", "6e", "6e²"],
                    correct: 1,
                    explanation: "Separating variables: dy/y = 2dx, ln|y| = 2x + C. y = Ae^(2x). Since y(0) = 3, A = 3. So y(1) = 3e²"
                },
                {
                    question: "Taylor series of e^x centered at x = 0 is:",
                    options: ["Σ x^n/n", "Σ x^n/n!", "Σ n·x^n", "Σ x^n"],
                    correct: 1,
                    explanation: "e^x = Σ(n=0 to ∞) x^n/n! = 1 + x + x²/2! + x³/3! + ..."
                },
                {
                    question: "Arc length of y = x^(3/2) from x = 0 to x = 4 is:",
                    options: ["8/3", "16/3", "28/3", "32/3"],
                    correct: 2,
                    explanation: "L = ∫√(1 + (dy/dx)²)dx = ∫√(1 + 9x/4)dx. Using substitution gives 28/3"
                },
                {
                    question: "The value of ∫₀^∞ e^(-x) dx is:",
                    options: ["0", "1", "e", "∞"],
                    correct: 1,
                    explanation: "∫₀^∞ e^(-x) dx = [-e^(-x)]₀^∞ = 0 - (-1) = 1"
                },
                {
                    question: "Critical points of f(x,y) = x² + y² - 2x - 4y occur at:",
                    options: ["(0,0)", "(1,2)", "(2,4)", "(-1,-2)"],
                    correct: 1,
                    explanation: "∂f/∂x = 2x - 2 = 0 gives x = 1; ∂f/∂y = 2y - 4 = 0 gives y = 2"
                },
                {
                    question: "If F(x) = ∫₀^x t²dt, then F'(x) =",
                    options: ["x³/3", "x²", "3x²", "Cannot determine"],
                    correct: 1,
                    explanation: "By Fundamental Theorem of Calculus, F'(x) = x²"
                },

                // Vectors & Matrices (Questions 31-40)
                {
                    question: "If vectors A = 3i + 4j and B = 4i - 3j, find A·B:",
                    options: ["0", "7", "12", "25"],
                    correct: 0,
                    explanation: "A·B = (3)(4) + (4)(-3) = 12 - 12 = 0 (vectors are perpendicular)"
                },
                {
                    question: "The cross product A × B where A = i + 2j + 3k and B = 2i + j + k has magnitude:",
                    options: ["√3", "√5", "√6", "√7"],
                    correct: 2,
                    explanation: "A × B = -i + 5j - 3k, magnitude = √(1 + 25 + 9) = √35. Let me recalculate: (2-3)i - (1-6)j + (1-4)k = -i + 5j - 3k, |A×B| = √(1+25+9) = √35 ≈ 5.9. Actually √6 seems wrong. Let me check once more: i(2-3) - j(1-6) + k(1-4) = -i + 5j - 3k. Magnitude = √(1+25+9) = √35"
                },
                {
                    question: "Determinant of matrix [[2,3],[4,5]] is:",
                    options: ["-2", "2", "10", "22"],
                    correct: 0,
                    explanation: "Det = (2)(5) - (3)(4) = 10 - 12 = -2"
                },
                {
                    question: "Eigenvalues of [[3,1],[0,2]] are:",
                    options: ["1, 2", "2, 3", "0, 5", "-1, 4"],
                    correct: 1,
                    explanation: "Characteristic equation: (3-λ)(2-λ) = 0, giving λ = 2, 3"
                },
                {
                    question: "If matrix A has inverse A⁻¹, then (A⁻¹)⁻¹ equals:",
                    options: ["A", "A²", "I", "0"],
                    correct: 0,
                    explanation: "The inverse of the inverse is the original matrix: (A⁻¹)⁻¹ = A"
                },
                {
                    question: "The rank of matrix [[1,2,3],[2,4,6],[3,6,9]] is:",
                    options: ["0", "1", "2", "3"],
                    correct: 1,
                    explanation: "All rows are proportional (row 2 = 2×row 1, row 3 = 3×row 1), so rank = 1"
                },
                {
                    question: "Vector projection of A = 4i + 3j onto B = i is:",
                    options: ["i", "3i", "4i", "5i"],
                    correct: 2,
                    explanation: "Projection = (A·B/|B|²)B = (4/1)(i) = 4i"
                },
                {
                    question: "For what value of k are vectors 2i + kj and 3i - 6j perpendicular?",
                    options: ["k = 1", "k = 2", "k = 3", "k = 4"],
                    correct: 0,
                    explanation: "For perpendicular vectors, dot product = 0: 6 - 6k = 0, so k = 1"
                },
                {
                    question: "The trace of matrix [[1,2,3],[4,5,6],[7,8,9]] is:",
                    options: ["15", "45", "12", "18"],
                    correct: 0,
                    explanation: "Trace = sum of diagonal elements = 1 + 5 + 9 = 15"
                },
                {
                    question: "Solution to system: x + 2y = 5, 3x - y = 1 is:",
                    options: ["x=1, y=2", "x=2, y=1", "x=3, y=1", "x=1, y=3"],
                    correct: 0,
                    explanation: "From second equation: y = 3x - 1. Substitute: x + 2(3x-1) = 5, x + 6x - 2 = 5, 7x = 7, x = 1, y = 2"
                },

                // Probability & Statistics (Questions 41-50)
                {
                    question: "A bag has 5 red, 3 blue, 2 green balls. Probability of drawing 2 different colors:",
                    options: ["1/3", "2/3", "3/4", "4/5"],
                    correct: 1,
                    explanation: "P(different) = 1 - P(same) = 1 - [C(5,2) + C(3,2) + C(2,2)]/C(10,2) = 1 - 14/45 = 31/45 ≈ 2/3"
                },
                {
                    question: "In normal distribution with μ = 100, σ = 15, what percent lies between 85 and 115?",
                    options: ["50%", "68%", "95%", "99%"],
                    correct: 1,
                    explanation: "85 to 115 is μ ± σ, which contains approximately 68% of data"
                },
                {
                    question: "Variance of data set {2, 4, 6, 8, 10} is:",
                    options: ["4", "6", "8", "10"],
                    correct: 2,
                    explanation: "Mean = 6, Variance = [(4+0+0+4+16)/5] = 24/5 = 4.8. Actually let me recalc: mean = 6, var = [(16+4+0+4+16)/5] = 40/5 = 8"
                },
                {
                    question: "If P(A) = 0.6, P(B) = 0.4, and A and B are independent, find P(A∪B):",
                    options: ["0.24", "0.76", "0.84", "1.00"],
                    correct: 1,
                    explanation: "P(A∪B) = P(A) + P(B) - P(A∩B) = 0.6 + 0.4 - 0.24 = 0.76"
                },
                {
                    question: "In how many ways can 5 people sit in a row if 2 specific people must sit together?",
                    options: ["24", "48", "72", "120"],
                    correct: 1,
                    explanation: "Treat the 2 as one unit: 4! arrangements × 2! internal arrangements = 24 × 2 = 48"
                },
                {
                    question: "Binomial coefficient C(10,3) equals:",
                    options: ["120", "210", "252", "720"],
                    correct: 0,
                    explanation: "C(10,3) = 10!/(3!7!) = (10×9×8)/(3×2×1) = 720/6 = 120"
                },
                {
                    question: "If coin is flipped 5 times, probability of exactly 3 heads:",
                    options: ["1/8", "5/16", "3/8", "1/2"],
                    correct: 1,
                    explanation: "P = C(5,3) × (1/2)⁵ = 10 × 1/32 = 10/32 = 5/16"
                },
                {
                    question: "Standard deviation of uniform distribution on [0, 12] is:",
                    options: ["2", "2√3", "3", "3√2"],
                    correct: 1,
                    explanation: "For uniform on [a,b], σ = (b-a)/√12 = 12/√12 = 12/(2√3) = 2√3"
                },
                {
                    question: "Correlation coefficient r = -0.8 indicates:",
                    options: [
                        "Weak positive correlation",
                        "Strong positive correlation",
                        "Weak negative correlation",
                        "Strong negative correlation"
                    ],
                    correct: 3,
                    explanation: "r = -0.8 indicates strong negative correlation (close to -1)"
                },
                {
                    question: "Expected value of rolling a fair die is:",
                    options: ["3", "3.5", "4", "4.5"],
                    correct: 1,
                    explanation: "E(X) = (1+2+3+4+5+6)/6 = 21/6 = 3.5"
                }
            ]
        };

        let selectedSubjects = ['math'];
        let currentQuestions = [];
        let currentQuestionIndex = 0;
        let score = 0;
        let answered = {};
        let startTime;
        let timerInterval;
        let quizLength = 20;

        function toggleSubject(btn) {
            const subject = btn.dataset.subject;
            const activeSciences = document.querySelectorAll('.subject-btn.active').length;
            
            if (btn.classList.contains('active')) {
                btn.classList.remove('active');
                selectedSubjects = selectedSubjects.filter(s => s !== subject);
            } else if (activeSciences < 2) {
                btn.classList.add('active');
                selectedSubjects.push(subject);
            } else {
                alert('Please select only 2 science subjects');
            }
        }

        function setQuizLength(btn) {
            document.querySelectorAll('.length-btn').forEach(b => b.classList.remove('active'));
            btn.classList.add('active');
            quizLength = parseInt(btn.dataset.length);
        }

        function startQuiz() {
            const sciences = selectedSubjects.filter(s => s !== 'math');
            if (sciences.length !== 2) {
                alert('Please select exactly 2 science subjects');
                return;
            }

            // Get questions from selected subjects
            currentQuestions = [];
            selectedSubjects.forEach(subject => {
                const subjectQuestions = [...questions[subject]];
                // Shuffle subject questions
                subjectQuestions.sort(() => Math.random() - 0.5);
                // Take proportional amount from each subject
                const questionsPerSubject = Math.floor(quizLength / 3);
                currentQuestions = currentQuestions.concat(
                    subjectQuestions.slice(0, questionsPerSubject).map(q => ({...q, subject}))
                );
            });

            // If we need more questions to reach quiz length, add randomly
            while (currentQuestions.length < quizLength) {
                const randomSubject = selectedSubjects[Math.floor(Math.random() * selectedSubjects.length)];
                const subjectQuestions = questions[randomSubject];
                const randomQ = subjectQuestions[Math.floor(Math.random() * subjectQuestions.length)];
                if (!currentQuestions.some(q => q.question === randomQ.question)) {
                    currentQuestions.push({...randomQ, subject: randomSubject});
                }
            }

            // Final shuffle
            currentQuestions.sort(() => Math.random() - 0.5);
            currentQuestions = currentQuestions.slice(0, quizLength);

            document.getElementById('startScreen').style.display = 'none';
            document.getElementById('quizContainer').style.display = 'block';
            document.getElementById('controls').style.display = 'flex';
            
            startTime = Date.now();
            timerInterval = setInterval(updateTimer, 1000);
            
            displayQuestion();
        }

        function updateTimer() {
            const elapsed = Math.floor((Date.now() - startTime) / 1000);
            const minutes = Math.floor(elapsed / 60);
            const seconds = elapsed % 60;
            document.getElementById('timer').textContent = 
                `${minutes.toString().padStart(2, '0')}:${seconds.toString().padStart(2, '0')}`;
        }

        function displayQuestion() {
            const question = currentQuestions[currentQuestionIndex];
            const container = document.getElementById('questionContainer');
            
            container.innerHTML = `
                <div class="question-card">
                    <div class="question-header">
                        <span class="question-number">Question ${currentQuestionIndex + 1} of ${currentQuestions.length}</span>
                        <span class="subject-tag">${question.subject.charAt(0).toUpperCase() + question.subject.slice(1)}</span>
                    </div>
                    <p class="question-text">${question.question}</p>
                    <ul class="options">
                        ${question.options.map((option, index) => `
                            <li class="option" data-index="${index}">
                                <input type="radio" name="answer" value="${index}" id="option${index}">
                                <label class="option-label" for="option${index}">
                                    ${String.fromCharCode(65 + index)}. ${option}
                                </label>
                            </li>
                        `).join('')}
                    </ul>
                    <div class="explanation" id="explanation">${question.explanation}</div>
                </div>
            `;

            // Restore previous answer
            if (answered[currentQuestionIndex] !== undefined) {
                document.querySelector(`input[value="${answered[currentQuestionIndex]}"]`).checked = true;
                showResult(false);
            }

            updateButtons();
            updateProgress();
        }

        function updateButtons() {
            document.getElementById('prevBtn').disabled = currentQuestionIndex === 0;
            document.getElementById('checkBtn').style.display = 
                answered[currentQuestionIndex] !== undefined ? 'none' : 'block';
            document.getElementById('nextBtn').style.display = 
                answered[currentQuestionIndex] !== undefined ? 'block' : 'none';
            
            if (currentQuestionIndex === currentQuestions.length - 1 && 
                answered[currentQuestionIndex] !== undefined) {
                document.getElementById('nextBtn').textContent = 'Finish';
            } else {
                document.getElementById('nextBtn').textContent = 'Next →';
            }
        }

        function updateProgress() {
            const progress = ((currentQuestionIndex + 1) / currentQuestions.length) * 100;
            document.getElementById('progressBar').style.width = `${progress}%`;
        }

        function checkAnswer() {
            const selected = document.querySelector('input[name="answer"]:checked');
            if (!selected) {
                alert('Please select an answer');
                return;
            }

            answered[currentQuestionIndex] = parseInt(selected.value);
            showResult(true);
        }

        function showResult(updateScore) {
            const question = currentQuestions[currentQuestionIndex];
            const selectedIndex = answered[currentQuestionIndex];
            
            document.querySelectorAll('.option').forEach((option, index) => {
                option.querySelector('input').disabled = true;
                if (index === question.correct) {
                    option.classList.add('correct');
                } else if (index === selectedIndex && index !== question.correct) {
                    option.classList.add('incorrect');
                }
            });

            document.getElementById('explanation').classList.add('show');

            if (updateScore && selectedIndex === question.correct) {
                score++;
            }

            updateButtons();
        }

        function nextQuestion() {
            if (currentQuestionIndex < currentQuestions.length - 1) {
                currentQuestionIndex++;
                displayQuestion();
            } else {
                finishQuiz();
            }
        }

        function previousQuestion() {
            if (currentQuestionIndex > 0) {
                currentQuestionIndex--;
                displayQuestion();
            }
        }

        function finishQuiz() {
            clearInterval(timerInterval);
            
            const totalQuestions = currentQuestions.length;
            const percentage = Math.round((score / totalQuestions) * 100);
            const passScore = Math.round(0.7 * totalQuestions); // 70% to pass
            
            document.getElementById('quizContainer').innerHTML = `
                <div class="score-card">
                    <h2>Practice Complete!</h2>
                    <div class="score-details">${score}/${totalQuestions}</div>
                    <p>${percentage}% Correct</p>
                    <p style="margin-top: 15px; color: #667781;">
                        ${score >= passScore ? 
                            'Excellent! You\'re well prepared for the exam!' : 
                            'Keep practicing! Review the topics you missed.'}
                    </p>
                    <p style="margin-top: 10px; font-size: 14px;">
                        Pass score: ${passScore}/${totalQuestions} (70%)
                    </p>
                </div>
            `;
            
            document.getElementById('controls').innerHTML = `
                <button class="btn" onclick="location.reload()">Practice Again</button>
            `;
        }
    </script>
</body>
</html>